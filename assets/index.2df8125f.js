var w=Object.defineProperty,$=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var b=(t,s,n)=>s in t?w(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,C=(t,s)=>{for(var n in s||(s={}))D.call(s,n)&&b(t,n,s[n]);if(v)for(var n of v(s))M.call(s,n)&&b(t,n,s[n]);return t},N=(t,s)=>$(t,I(s));import{j as R,r as c,a as g,m as j,M as P,R as O,b as L}from"./vendor.b373c549.js";const E=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};E();const e=R.exports.jsx,d=R.exports.jsxs,q=()=>e("header",{className:"bg-alert",children:e("h1",{children:"Search Recipe"})}),S=c.exports.createContext(),B=t=>{const[s,n]=c.exports.useState([]);return c.exports.useEffect(()=>{(async()=>{const r="https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list",o=await g.get(r);n(o.data.drinks)})()},[]),e(S.Provider,{value:{categories:s},children:t.children})},f=c.exports.createContext(),F=t=>{const[s,n]=c.exports.useState([]),[i,r]=c.exports.useState({name:"",category:""}),[o,a]=c.exports.useState(!1),{name:l,category:u}=i;return c.exports.useEffect(()=>{o&&(async()=>{const h=`https://www.thecocktaildb.com/api/json/v1/1/filter.php?${l?`i=${l}`:""}${u?`&c=${u}`:""}`,p=await g.get(h);n(p.data.drinks)})()},[i]),e(f.Provider,{value:{recipes:s,searchQuery:r,setConsult:a},children:t.children})},Q=()=>{const[t,s]=c.exports.useState({name:"",category:""}),{categories:n}=c.exports.useContext(S),{searchQuery:i,setConsult:r}=c.exports.useContext(f),o=a=>{s(N(C({},t),{[a.target.name]:a.target.value}))};return d("form",{className:"col-12",onSubmit:a=>{a.preventDefault(),i(t),r(!0)},children:[e("fieldset",{className:"text-center",children:e("legend",{children:"Search Beverages by Category or Ingredient"})}),d("div",{className:"row mt-4",children:[e("div",{className:"col-md-4",children:e("input",{name:"name",className:"form-control",type:"text",placeholder:"Search by Ingredient",onChange:o})}),e("div",{className:"col-md-4",children:d("select",{className:"form-control",name:"category",onChange:o,children:[e("option",{value:"",children:"--- Select Category ---"}),n.map(a=>e("option",{value:a.strCategory,children:a.strCategory},a.strCategory))]})}),e("div",{className:"col-md-4",children:e("input",{type:"submit",className:"btn btn-block btn-primary",value:"Search Beverage"})})]})]})},k=c.exports.createContext(),A=t=>{const[s,n]=c.exports.useState(null),[i,r]=c.exports.useState({});return c.exports.useEffect(()=>{(async()=>{if(!s)return;const a=`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${s}`,l=await g.get(a);r(l.data.drinks[0])})()},[s]),e(k.Provider,{value:{infoRecipe:i,setIdRecipe:n,setRecipe:r},children:t.children})};function T(){return{top:`${50}%`,left:`${50}%`,transform:`translate(-${50}%, -${50}%)`}}const H=j(t=>({paper:{position:"absolute",width:450,backgroundColor:t.palette.background.paper,boxShadow:t.shadows[5],padding:t.spacing(2,4,3)}})),K=({recipe:t})=>{const[s]=c.exports.useState(T),[n,i]=c.exports.useState(!1),r=H(),o=()=>{i(!0)},a=()=>{i(!1)},{infoRecipe:l,setIdRecipe:u,setRecipe:y}=c.exports.useContext(k),h=p=>{let x=[];for(let m=1;m<16;m++)return p[`strIngredient${m}`]&&x.push(d("li",{children:[p[`strIngredient${m}`]," ",p[`strMeasure${m}`]]})),x};return e("div",{className:"col-md-4 mb-3",children:d("div",{className:"card",children:[e("h2",{className:"card-header",children:t.strDrink}),e("img",{className:"card-img-top",src:t.strDrinkThumb,alt:`Image of ${t.strDrink}`}),d("div",{className:"card-body",children:[e("button",{type:"button",className:"btn btn-block btn-primary",onClick:()=>{u(t.idDrink),o()},children:"Full Recipe"}),e(P,{open:n,onClose:()=>{u(null),a(),y({})},children:d("div",{style:s,className:r.paper,children:[e("h2",{children:l.strDrink}),e("h3",{className:"mt-4",children:l.strInstructions}),e("img",{className:"img-fluid my-4",src:l.strDrinkThumb}),e("h3",{children:"Ingredients and Measures"}),e("ul",{children:h(l)})]})})]})]})})},_=()=>{const{recipes:t}=c.exports.useContext(f);return t?e("div",{className:"row mt-5",children:t.map(s=>e(K,{recipe:s},s.idDrink))}):e("div",{className:"alert alert-danger my-3",children:"No results found"})};function z(){return e(B,{children:e(F,{children:d(A,{children:[e(q,{}),d("div",{className:"container mt-5",children:[e("div",{className:"row",children:e(Q,{})}),e(_,{})]})]})})})}O.render(e(L.StrictMode,{children:e(z,{})}),document.getElementById("root"));
